(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{66:function(e,t,o){"use strict";o.r(t),o.d(t,"frontMatter",(function(){return r})),o.d(t,"metadata",(function(){return s})),o.d(t,"rightToc",(function(){return c})),o.d(t,"default",(function(){return d}));var n=o(2),a=o(6),i=(o(0),o(90)),r={id:"code-reviews",slug:"/source-control/code-reviews",title:"Code Reviews"},s={unversionedId:"source-control/code-reviews",id:"source-control/code-reviews",isDocsHomePage:!1,title:"Code Reviews",description:"Code reviews are an important part of the SDLC and the production and delivery of quality code; they are a critical part of the process of introducing both new code and/or changes to existing code into the codebase of a project. Code reviews serve several purposes:",source:"@site/docs/source-control/code-reviews.mdx",slug:"/source-control/code-reviews",permalink:"/pages/source-control/code-reviews",editUrl:"https://github.com/theartofeducation/engineering-docs/docs/source-control/code-reviews.mdx",version:"current",sidebar:"docs",previous:{title:"Branching and Merging Strategy",permalink:"/pages/source-control/branching-merging"},next:{title:"Git Verified Commits",permalink:"/pages/source-control/verified-commits"}},c=[{value:"Practice empathy, code is personal",id:"practice-empathy-code-is-personal",children:[{value:"Be objective (both ways)",id:"be-objective-both-ways",children:[]}]},{value:"Good PRs make code reviews easier",id:"good-prs-make-code-reviews-easier",children:[]},{value:"Better, unambiguous feedback with Severity Level Identifiers (SLIs)",id:"better-unambiguous-feedback-with-severity-level-identifiers-slis",children:[{value:"Severity Level Identifier List",id:"severity-level-identifier-list",children:[]}]},{value:"Code Review Approval",id:"code-review-approval",children:[]}],l={rightToc:c};function d(e){var t=e.components,o=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},l,o,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Code reviews are an important part of the ",Object(i.b)("abbr",{title:"Software Development Life Cycle"},"SDLC")," and the production and delivery of quality code; they are a critical part of the process of introducing both new code and/or changes to existing code into the codebase of a project. Code reviews serve several purposes:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Ensure consistent style and standards."),Object(i.b)("li",{parentName:"ul"},"Help find possible issues before they are released into the wild."),Object(i.b)("li",{parentName:"ul"},"Help to provide suggestions for security, optimization, best practices, etc."),Object(i.b)("li",{parentName:"ul"},"Help with knowledge transfer amongst the team (we can all learn a lot from a code review).")),Object(i.b)("p",null,"This document provides an overview for how we practice code reviews at The Art of Education University (AOEU)."),Object(i.b)("h2",{id:"practice-empathy-code-is-personal"},"Practice empathy, code is personal"),Object(i.b)("p",null,"Whether you've ever thought into it this much, or whether you want to admit it or not, code reviews are not just logical exercises, they're personal too. All code at some level or other is the product of a human being (yes, even generated code), and it's important to remember that when reviewing it, ",Object(i.b)("em",{parentName:"p"},"and especially")," when providing feedback on it. Humans are emotional creatures, and all coders, to at least some degree, take a certain amount of pride in the code that they write. It is a reflection of each individuals personal knowledge, skill and experience level, and most consider the quality of their code to be a personal reflection on them as unique individuals."),Object(i.b)("p",null,"For many developers, it can be a daunting and sometimes even frightening thing, to submit a pull request (PR) for code review knowing that it's going to be reviewed and critiqued. This is why it's important for us all to remember to review code and provide feedback on it with empathy for the author, and to provide ",Object(i.b)("a",{parentName:"p",href:"https://sparkbox.com/foundry/stop_giving_depressing_code_reviews"},"not only critical, but also positive feedback as well"),"."),Object(i.b)("h3",{id:"be-objective-both-ways"},"Be objective (both ways)"),Object(i.b)("p",null,"Regardless of your role in a code review, whether you're the reviewer, or the author of the code, it's important to do your best to try to be as objective about your role in this process as possible. This point may seem obvious, but it feels worth saying it anyway. If you're the reviewer, keep your feedback about the code, and not the author. Be direct, provide as much detail as is practical and possible in your feedback (remember it can often be as helpful to include the ",Object(i.b)("em",{parentName:"p"},"why")," as it is the ",Object(i.b)("em",{parentName:"p"},"what"),"), and above all else, ",Object(i.b)("em",{parentName:"p"},"be nice about it"),"."),Object(i.b)("p",null,"If you're the author of the code, and receive critique, don't take it personally. We're all just trying to do our job and deliver the best product possible within the constraints in which it is being delivered. Take feedback at face value, and use it to learn and improve your code and your craft."),Object(i.b)("h2",{id:"good-prs-make-code-reviews-easier"},"Good PRs make code reviews easier"),Object(i.b)("p",null,"In order to be able to effectively review the code in a PR, it's critical for the reviewer(s) to have a clear understanding of what the ",Object(i.b)("em",{parentName:"p"},"intent")," of the changes being proposed are. For our development team at AOEU, ",Object(i.b)("em",{parentName:"p"},"at a ",Object(i.b)("strong",{parentName:"em"},"bare minimum")),", a PR should include ",Object(i.b)("strong",{parentName:"p"},"a meaningful title"),", and ",Object(i.b)("strong",{parentName:"p"},"a link to the issue/task/card in our project management system")," (",Object(i.b)("a",{parentName:"p",href:"https://app.clubhouse.io/aoeu-se"},"Clubhouse"),") that is driving the change",Object(i.b)("super",null,"*"),". This should be the bare minimum for all of our code reviews. Yes, words can be hard, but its worth the time and effort to put some thought into a meaningful and descriptive title for your PRs."),Object(i.b)("p",null,"Beyond that, its up to the author of the PR to determine how much additional information a PR should have. Some definitely require more than others. Screen captures, and even animated gifs or videos can often be useful in providing context for the problem the changes in the PR are attempting to fix. Use your best judgment, but know that the more context you can provide, the easier it will be for reviewers to provide meaningful and useful feedback. Sparkbox has a couple of excellent articles with some great information on what makes for a good pull request: ",Object(i.b)("a",{parentName:"p",href:"https://sparkbox.com/foundry/creating_good_pull_requests"},"Creating Good Pull Requests"),", and ",Object(i.b)("a",{parentName:"p",href:"https://sparkbox.com/foundry/github_pull_requests_for_everyone"},"GitHub Pull Requests for Everyone"),". Both should be considered strongly recommended reading."),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},Object(i.b)("strong",{parentName:"p"},Object(i.b)("super",null,"*"))," It is possible, but should be ",Object(i.b)("em",{parentName:"p"},"a rare exception"),", that there is no card in our project management system driving a proposed change to code. It happens, but should definitely not happen very often."))),Object(i.b)("h2",{id:"better-unambiguous-feedback-with-severity-level-identifiers-slis"},"Better, unambiguous feedback with Severity Level Identifiers (SLIs)"),Object(i.b)("p",null,"The fine development team at Netlify shared ",Object(i.b)("a",{parentName:"p",href:"https://www.netlify.com/blog/2020/03/05/feedback-ladders-how-we-encode-code-reviews-at-netlify/"},'an excellent article that they wrote about how they have improved their internal code review process through the use of what they call "Feedback Ladders."')," We really liked this article and the approach they've taken, and have decided to use it for inspiration and adopt a similar approach to our own internal code review process. Similar to feedback ladders, we are adopting a system of identifiers that help qualify the severity level of the feedback, and associating each severity level with a quickly and easily identifiable emoji that represents the severity level of the feedback."),Object(i.b)("p",null,"This system of identifiers can help improve our code review process by removing some of the ambiguity in elements of feedback in a code review. We use GitHub PRs as the basis for our code review process, and for the most part, the exchange of information among team members in a PR is asynchronous, disconnected and almost entirely via text-based communication. Text based communication can be challenging, as it lacks the nuances of verbal and face-to-face communication such as body language and voice inflection, which can often make the intent or tone of a comment or statement much clearer than if the same were communicated simply via text. As a result, it can often be unclear as to whether a piece of feedback on a PR is severe enough to block the PR from approval, or is intended more as an initiation of an exchange or deeper conversation about an issue."),Object(i.b)("p",null,"To help remove some of this ambiguity, we prefer that all elements of feedback on a PR be prefixed with one of the following severity level identifiers, to help communicate to the author the intended severity level of the feedback."),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},"This list is inteded to be used as a reference for all involved in code reviews at AOEU as the basis for understanding the severity level of comments and feedback left on PRs, and their associated meaning and intent."))),Object(i.b)("h3",{id:"severity-level-identifier-list"},"Severity Level Identifier List"),Object(i.b)("p",null,"The following is a list of all of our officially documented Severity Level Identifiers, including the emoji that should be used to prefix the comment, along with the GitHub short code that can be used to render the emoji, and a description of what it means and how/when the issue should be addressed by the author."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"\ud83d\udea8 ",Object(i.b)("inlineCode",{parentName:"li"},":rotating_light:")," - This is a ",Object(i.b)("strong",{parentName:"li"},"blocking issue"),", and must be corrected before the PR will be approved. Comments with this SLI should always include a recommendation for what and how to correct the issue."),Object(i.b)("li",{parentName:"ul"},"\ud83e\udeb2 or \ud83d\udc1e ",Object(i.b)("inlineCode",{parentName:"li"},":beetle:")," or ",Object(i.b)("inlineCode",{parentName:"li"},":bug:")," - This is a ",Object(i.b)("strong",{parentName:"li"},"blocking issue"),", and identifies a comment or feedback relative to a bug or defect that was found with the code."),Object(i.b)("li",{parentName:"ul"},"\u26a0\ufe0f ",Object(i.b)("inlineCode",{parentName:"li"},":warning:")," - This is a ",Object(i.b)("strong",{parentName:"li"},"non-blocking issue"),", but will require documented, follow-up action in the future. Comments/feedback with this SLI will most often require the addition of a ",Object(i.b)("inlineCode",{parentName:"li"},"TODO:")," comment in the code, that includes an accompanying link to an issue in our project management system, i.e. ",Object(i.b)("inlineCode",{parentName:"li"},"TODO: CH12345 - This needs to be better"),"."),Object(i.b)("li",{parentName:"ul"},"\ud83c\udfa8 or \ud83d\udc85\ud83c\udffc ",Object(i.b)("inlineCode",{parentName:"li"},":art:")," or ",Object(i.b)("inlineCode",{parentName:"li"},":nail_care:")," - This is a stylistic issue with the code, and in the vast majority of cases should be ",Object(i.b)("strong",{parentName:"li"},"non-blocking"),". Stylistic issues with the code should be discussed rarely during code reviews, as they should most often be taken care of before the code ever gets into the review process by our linters, and our coding standards (",Object(i.b)("a",{parentName:"li",href:"/pages/coding-standards/javascript-react"},"JavaScript/React"),", ",Object(i.b)("a",{parentName:"li",href:"/pages/coding-standards/go"},"Go"),", and ",Object(i.b)("a",{parentName:"li",href:"/pages/coding-standards/python"},"Python"),"). These feedback issues can often result in discussion or back-and-forth that can result in a decision, that could (should?) result in a change to our linters or coding standards to help avoid similar discussions in the future. When that is the case, it should result in an actionable card/task in our project management system."),Object(i.b)("li",{parentName:"ul"},"\ud83e\udd14 or \u2753 ",Object(i.b)("inlineCode",{parentName:"li"},":thinking:")," or ",Object(i.b)("inlineCode",{parentName:"li"},":question:")," - This should be used for questions or requests for clarification. This can sometimes be blocking, depending on the nature of the question and scenario, but typically these are non-blocking, and should be used for help in learning, and just generally understanding the nature or intent of the code."),Object(i.b)("li",{parentName:"ul"},"In keeping with efforts to help keep our code reviews positive, we also strongly recommend the use of the following SLIs to identify encouraging or positive feedback. Any comments/feedback with any of the following SLIs should never be blocking.",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"\u2728 ",Object(i.b)("inlineCode",{parentName:"li"},":sparkles:")),Object(i.b)("li",{parentName:"ul"},"\ud83d\udca5 ",Object(i.b)("inlineCode",{parentName:"li"},":boom:")),Object(i.b)("li",{parentName:"ul"},"\ud83d\udc4d\ud83c\udffc ",Object(i.b)("inlineCode",{parentName:"li"},":thumbsup:")),Object(i.b)("li",{parentName:"ul"},"\ud83d\udcaa\ud83c\udffc ",Object(i.b)("inlineCode",{parentName:"li"},":muscle:")),Object(i.b)("li",{parentName:"ul"},"\ud83d\ude0d ",Object(i.b)("inlineCode",{parentName:"li"},":heart_eyes:"))))),Object(i.b)("h2",{id:"code-review-approval"},"Code Review Approval"),Object(i.b)("p",null,"All of our GitHub repositories should be configured to support this (to the extent possible), but even when not, our recommended rule for Code Review / PR approval is that a PR should only be merged under the following conditions:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"Approved by QA"),' - This means that the code being reviewed has been reviewed, tested and approved by QA. This most commonly is identified by the associated card being moved to the "QA Done" column on the board in our project management system.'),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"2 Approved Developer Reviews")," - The code has been reviewed and approved by two developer peers."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"All configured CI tasks pass")," - Most (if not all) of our repositories should be setup and configured to run GitHub actions to perform certain Continous Integration (CI) tasks (perform linting, run unit tests, automated regression tests, etc). All configured CI tasks for the project must pass before the PR can be merged.")))}d.isMDXComponent=!0},90:function(e,t,o){"use strict";o.d(t,"a",(function(){return b})),o.d(t,"b",(function(){return p}));var n=o(0),a=o.n(n);function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function c(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}var l=a.a.createContext({}),d=function(e){var t=a.a.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):s(s({},t),e)),o},b=function(e){var t=d(e.components);return a.a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},h=a.a.forwardRef((function(e,t){var o=e.components,n=e.mdxType,i=e.originalType,r=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),b=d(o),h=n,p=b["".concat(r,".").concat(h)]||b[h]||u[h]||i;return o?a.a.createElement(p,s(s({ref:t},l),{},{components:o})):a.a.createElement(p,s({ref:t},l))}));function p(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=o.length,r=new Array(i);r[0]=h;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:n,r[1]=s;for(var l=2;l<i;l++)r[l]=o[l];return a.a.createElement.apply(null,r)}return a.a.createElement.apply(null,o)}h.displayName="MDXCreateElement"}}]);