(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{68:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return c})),t.d(n,"rightToc",(function(){return s})),t.d(n,"default",(function(){return b}));var r=t(2),a=t(6),o=(t(0),t(91)),i={id:"branching-merging",slug:"/source-control/branching-merging",title:"Branching and Merging Strategy",sidebar_label:"Branching and Merging"},c={unversionedId:"source-control/branching-merging",id:"source-control/branching-merging",isDocsHomePage:!1,title:"Branching and Merging Strategy",description:"Our git version control workflow consists of the use of two primary base branches, and working branches for chores, features, defect and other types of development work are created from those base branches. This document provides details about those branches and how source code changes should flow between them.",source:"@site/docs/source-control/branching-merging.mdx",slug:"/source-control/branching-merging",permalink:"/pages/source-control/branching-merging",editUrl:"https://github.com/theartofeducation/engineering-docs/docs/source-control/branching-merging.mdx",version:"current",sidebar_label:"Branching and Merging",sidebar:"docs",previous:{title:"Internationalization (i18n)",permalink:"/pages/best-practices/internationalization"},next:{title:"Code Reviews",permalink:"/pages/source-control/code-reviews"}},s=[{value:"main",id:"main",children:[]},{value:"develop",id:"develop",children:[]},{value:"Working Branches",id:"working-branches",children:[]}],l={rightToc:s};function b(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},l,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Our git version control workflow consists of the use of two primary base branches, and working branches for chores, features, defect and other ",Object(o.b)("a",{parentName:"p",href:"commit-format"},"types of development work")," are created from those base branches. This document provides details about those branches and how source code changes should flow between them."),Object(o.b)("h2",{id:"main"},"main"),Object(o.b)("p",null,"The primary branch that is the source of truth for releases to production in every repository is the ",Object(o.b)("inlineCode",{parentName:"p"},"main")," branch. Pull requests into the ",Object(o.b)("inlineCode",{parentName:"p"},"main")," branch should only ever come from either (most commonly) the ",Object(o.b)("inlineCode",{parentName:"p"},"develop")," branch, after development work has been merged into it, or emergency defect fixes, which will be covered in more detail in a section below."),Object(o.b)("h2",{id:"develop"},"develop"),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"develop")," branch is originally sourced from the ",Object(o.b)("inlineCode",{parentName:"p"},"main")," branch, and is the branch from which all development work should be sourced. This means that all other ",Object(o.b)("a",{parentName:"p",href:"commit-format"},"types")," of development branches should be created from the ",Object(o.b)("inlineCode",{parentName:"p"},"develop")," branch when work is started on them."),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"develop")," branch is used on acceptance servers for product acceptance."),Object(o.b)("h2",{id:"working-branches"},"Working Branches"),Object(o.b)("p",null,"When you wish to begin development on a new task, you would create a branch based off of the ",Object(o.b)("inlineCode",{parentName:"p"},"develop")," branch with a command similar to the following:"),Object(o.b)("div",{className:"admonition admonition-important alert alert--info"},Object(o.b)("div",{parentName:"div",className:"admonition-heading"},Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",{parentName:"h5",className:"admonition-icon"},Object(o.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(o.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"important")),Object(o.b)("div",{parentName:"div",className:"admonition-content"},Object(o.b)("p",{parentName:"div"},"Ensure that you're currently on the ",Object(o.b)("inlineCode",{parentName:"p"},"develop")," branch and it is up to date when you execute this command."))),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",{parentName:"div",className:"admonition-heading"},Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",{parentName:"h5",className:"admonition-icon"},Object(o.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(o.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(o.b)("div",{parentName:"div",className:"admonition-content"},Object(o.b)("p",{parentName:"div"},"For the sake of example, the following commands assume that the work being done will be new feature development."))),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-sh"},"git checkout -b feature/ch123/some-awesome-new-feature\n")),Object(o.b)("p",null,"The branch name should contain the type of change being made and the Clubhouse story ID. This will ensure the card is linked to the code changes and our automated workflow is triggered. Every card in Clubhouse has a Git helper you can copy and paste for branch names."),Object(o.b)("p",null,"Once this new branch has been created locally, you can move the card associated with this work in ",Object(o.b)("a",{parentName:"p",href:"https://app.clubhouse.io/aoeu-se"},"Clubhouse")," by pushing this new branch to GitHub with the following command:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-sh"},"git push -u origin feature/ch123/some-awesome-new-feature\n")),Object(o.b)("p",null,"This will setup your local branch to track against the new branch created on the ",Object(o.b)("inlineCode",{parentName:"p"},"origin")," remote on GitHub, and will trigger our GitHub integration in Clubhouse to automatically move the card associated with the branch to the appropriate column in our development workflow there."),Object(o.b)("p",null,"We encourage committing to working branches early and often, and pushing your local changes to GitHub regularly (no less than once per day typically), so that the current state of your work is available there should another team member need to either pull down or take over your work for any reason."),Object(o.b)("p",null,"When a working branch is ready for testing, make sure it is up to date with the current ",Object(o.b)("inlineCode",{parentName:"p"},"develop")," branch by performing a merge into your working branch with either the ",Object(o.b)("inlineCode",{parentName:"p"},"--fast-forward")," or ",Object(o.b)("inlineCode",{parentName:"p"},"--rebase")," flags. Open a PR into the ",Object(o.b)("inlineCode",{parentName:"p"},"develop")," branch. The code will be reviewed and approved before merging. Delete all working branches after they are merged into ",Object(o.b)("inlineCode",{parentName:"p"},"develop"),". You should always perform a squash merge when merging into ",Object(o.b)("inlineCode",{parentName:"p"},"develop"),"."))}b.isMDXComponent=!0},91:function(e,n,t){"use strict";t.d(n,"a",(function(){return h})),t.d(n,"b",(function(){return m}));var r=t(0),a=t.n(r);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=a.a.createContext({}),b=function(e){var n=a.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},h=function(e){var n=b(e.components);return a.a.createElement(l.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},p=a.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),h=b(t),p=r,m=h["".concat(i,".").concat(p)]||h[p]||d[p]||o;return t?a.a.createElement(m,c(c({ref:n},l),{},{components:t})):a.a.createElement(m,c({ref:n},l))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=p;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,i[1]=c;for(var l=2;l<o;l++)i[l]=t[l];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,t)}p.displayName="MDXCreateElement"}}]);